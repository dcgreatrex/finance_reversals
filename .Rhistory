#-----------------------------------------------------------------------------------------------------
# Title: reversal main
# Description: Compute reversal points for detecting channel structure and entry/exit points
# Author: David Greatrex
# Date: 30/11/2016
# Modifications:
#-----------------------------------------------------------------------------------------------------
#-------------------------------------
# user defined variables
#-------------------------------------
wd = "/Users/dcg/_gitProjects/Public/finance_reversals"
data_provider <- "yahoo"
start_month <- "2015-01"
row_lookback <- 3
#-------------------------------------
# Load functions
#-------------------------------------
source(paste(wd,'functions/reversals.R',sep="/")) # load function script
#-------------------------------------
# Load tickers
#-------------------------------------
# ftse 100 tickers
ftse100 <- read.table(paste(wd,'data/ftse100.txt',sep = "/"),sep="\t", header=FALSE)
ftse100 <- ftse100[,1]
# ftse 250 tickers
ftse250 <- read.table(paste(wd,'data/ftse250.txt',sep = "/"),sep="\t", header=TRUE)
ftse250 <- ftse250[,1]
# assign symbols
tickers<- ftse100
#-------------------------------------
# Run main
#-------------------------------------
for (i in 1:length(tickers)){
#-------------------------------------
# load and subset data
#-------------------------------------
s <- toString(tickers[i])
dat <- return_data(ticker = s, src = data_provider, start = start_month)
if(dat$error){
next
}
#-------------------------------------
# compute reversals
#-------------------------------------
high <- reversals(data = dat$d[,2], lookback = row_lookback, ticker = s, is_High = 1)
low <- reversals(data = dat$d[,3], lookback = row_lookback, ticker = s, is_High = 0)
#-------------------------------------
# plot reversals
#-------------------------------------
chartSeries(dat$d, name = s, type = "candlesticks",
TA="
addPoints(y = high$y, x = high$x, col = 'red');
addPoints(y = low$y, x = low$x, col = 'blue');
addVo()")
#-------------------------------------
# remove variables
#-------------------------------------
rm(s, dat, high, low)
}
#-----------------------------------------------------------------------------------------------------
# Title: reversal main
# Description: Compute reversal points for detecting channel structure and entry/exit points
# Author: David Greatrex
# Date: 30/11/2016
# Modifications:
#-----------------------------------------------------------------------------------------------------
#-------------------------------------
# user defined variables
#-------------------------------------
wd = "/Users/dcg/_gitProjects/Public/finance_reversals"
data_provider <- "yahoo"
start_month <- "2015-01"
row_lookback <- 3
#-------------------------------------
# Load functions
#-------------------------------------
source(paste(wd,'functions/reversals.R',sep="/")) # load function script
#-------------------------------------
# Load tickers
#-------------------------------------
markets <- c('ftse_100','ftse_250')
market <- read.table(paste(wd,'data',paste0(markets[1],'.txt'),sep = "/"),sep="\t", header=FALSE)
tickers <- market[,1]
paste(wd,'data',paste0(markets[1],'.txt'
)
)
paste(wd,'data/')
paste(wd,'data/',sep="\t")
paste(wd,'data/',sep="/")
paste(wd,'data/'markets[1],sep="/")
paste(wd,'data/',markets[1],sep="/")
paste(wd,'data',markets[1],sep="/")
paste(wd,'data',paste0(markets[1],'.txt'),sep="/")
markets <- c('ftse_100','ftse_250')
market <- read.table(paste(wd,'data',paste0(markets[1],'.txt'),sep="/"),sep="\t", header=FALSE)
tickers <- market[,1]
markets <- c('ftse_100','ftse_250')
market <- read.table(paste(wd,'data',paste0(markets[1],'.txt'),sep="/"),sep="\t", header=FALSE)
tickers <- market[,1]
View(market)
tickers
#-----------------------------------------------------------------------------------------------------
# Title: reversal main
# Description: Compute reversal points for detecting channel structure and entry/exit points
# Author: David Greatrex
# Date: 30/11/2016
# Modifications:
#-----------------------------------------------------------------------------------------------------
#-------------------------------------
# user defined variables
#-------------------------------------
wd = "/Users/dcg/_gitProjects/Public/finance_reversals"
data_provider <- "yahoo"
start_month <- "2015-01"
row_lookback <- 3
#-------------------------------------
# Load functions
#-------------------------------------
source(paste(wd,'functions/reversals.R',sep="/")) # load function script
#---
#-------------------------------------
markets <- c('ftse_100','ftse_250')
market <- read.table(paste(wd,'data',paste0(markets[1],'.txt'),sep="/"),sep="\t", header=FALSE)
tickers <- market[,1]
#-------------------------------------
for (i in 1:length(tickers)){
# load and subset data
s <- toString(tickers[i])
dat <- return_data(ticker = s, src = data_provider, start = start_month)
if(dat$error){
next
}
# compute reversals
high <- reversals(data = dat$d[,2], lookback = row_lookback, ticker = s, is_High = 1)
low <- reversals(data = dat$d[,3], lookback = row_lookback, ticker = s, is_High = 0)
# plot reversals
chartSeries(dat$d, name = s, type = "candlesticks",
TA="
addPoints(y = high$y, x = high$x, col = 'red');
addPoints(y = low$y, x = low$x, col = 'blue');
addVo()")
# remove variables
rm(s, dat, high, low)
}
